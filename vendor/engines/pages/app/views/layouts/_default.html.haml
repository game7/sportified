- layout = Layout.default
- layout.generate_panels
- id ||= layout.id
- height ||= 100
- blocks ||= {}
- edit ||= false
- block_partial = edit ? 'blocks/edit' : 'blocks/show'
- panel = layout.panels[0]
.layout{ :id => "layout_#{id.to_s}", :format => layout.format, :style => "min-height: #{height}px;"}
  .layout-holder{ :style => "width: #{panel.width}%; min-height: #{height}px;"}      
    .layout-panel{ :id => "panel_#{panel.id}", :style => "width: #{panel.width}%; min-height: #{height}px;"}
      - blocks.each do |block|
        = render :partial => block_partial, :locals => { :block => block }
    .clear
  .clear

