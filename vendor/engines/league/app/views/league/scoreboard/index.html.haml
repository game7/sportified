- title 'Scoreboard'

.controls
  .left
    = render :partial => "league/shared/select_date_range", :locals => { :start_date => @start_date, :end_date => @end_date, :prev_date => @prev_date, :next_date => @next_date, :range => @days_in_future + @days_in_past }
  .right
    - if @division_links
      = render :partial => "league/shared/select_division", :locals => { :division_options => @division_links }
.clear

- last_date = @games[0].starts_on.to_date unless @games.count == 0

- @games.each_with_index do |game, i|  
- game.starts_on.localtime
  - if i == 0 || game.starts_on.to_date < last_date
    .clear
    .group-head #{game.starts_on.to_date.strftime("%A, %B %e %Y")}
    - last_date = game.starts_on.to_date
  = render :partial => "score_card", :locals => { :game => game }
.clear
.group-end
- if @games.count > 0
  .controls.left
    = render :partial => "league/shared/select_date_range", :locals => { :start_date => @start_date, :end_date => @end_date, :prev_date => @prev_date, :next_date => @next_date, :range => @days_in_future + @days_in_past }
  .clear

