!!!
%html
  %head
    %title
      = content_for?(:title) ? yield(:title) : 'Untitled'
      != " :: #{tenant.name}" if tenant
    - theme = tenant&.theme
    - if theme and !theme.empty?
      -# = stylesheet_link_tag "themes/#{theme}"
      = stylesheet_link_tag 'themes/oia'
      = favicon_link_tag "themes/#{theme}/icon.ico"
    - else
      = stylesheet_link_tag :application
    - if tenant&.google_fonts
      - tenant.google_fonts.split(/\r?\n/).each do |font|
        = stylesheet_link_tag "https://fonts.googleapis.com/css?family=#{font.gsub(/ /, '+')}"
    = javascript_include_tag :application
    = csrf_meta_tag
    %meta{ content: 'width=device-width, initial-scale=1.0', name: :viewport}
    = yield(:head)
    :css
      :root {
        --primary-color: #8C1D40;
        --primary-color: #000000;
      }
      html {
        font-size: 15px;
      }
      body.pushable .pusher {
        background-image: url("/assets/themes/oia/oia_web_bg.jpg");
        background-position: center top;
        background-repeat:no-repeat;
        background-attachment: fixed;
        background-size: cover;
      }      
      .ui.inverted.menu {
        background: var(--primary-color);
      }
      .ui.primary.button {
        background-color: var(--primary-color);
      }
      a.header.item {
        text-transform: uppercase !important;
      }
      a.header.item .title {
        display: none !important;
      }      
      a.header.item .logo {
        content: url("/assets/themes/oia/oia_asu_gold.svg");
        width: 200px !important;
        margin: auto !important;
      }
      #wrapper {
        background: #ffffff;
        padding: 20px;
        margin-top: 60px;
        margin-bottom: 9px;
      }

      /* mobile */
      @media only screen and (max-width: 767px) {
        #wrapper {
          margin-top: 51px;
          margin-bottom: 0;
        }
        .ui.container {
          width: auto !important;
          margin-left: 0 !important;
          margin-right: 0 !important;
        }     
      } 
  %body
    = render 'layouts/sidebar'
    .pusher
      = render 'layouts/header'
      #wrapper.ui.container
        %header
          = render 'layouts/area_navigation' if @area_menu_items
          = render 'layouts/breadcrumbs' if @breadcrumbs
          #banner
            #{yield :banner}
          - if content_for?(:title)
            .page-title.clearfix
              %h1{ style: 'float: left;' }
                %span#page-title= yield(:title)
                = content_tag :small, yield(:title_small) if content_for?(:title_small)
              .actions{ style: 'float: right;' }
                = yield(:actions)
              %div{ style: 'clear: both;' }
        #main
          #page-header
            = render :partial => 'layouts/flash', :locals => { :flash => flash }
          = yield
      #footer
        = render 'layouts/footer'
        -# = render 'layouts/social'
    #modal
    = yield :javascript

    :javascript

      var $dropdown = $('.dropdown-toggle');
      if ($dropdown.dropdown) { $dropdown.dropdown(); }

      // fix sub nav on scroll
      var $win = $(window)
        , $nav = $('.subnav')
        , navTop = $('.subnav').length && $('.subnav').offset().top - 40
        , isFixed = 0

      processScroll()

      $win.on('scroll', processScroll)

      function processScroll() {
        var i, scrollTop = $win.scrollTop()
        if (scrollTop >= navTop && !isFixed) {
          isFixed = 1
          $nav.addClass('subnav-fixed')
        } else if (scrollTop <= navTop && isFixed) {
          isFixed = 0
          $nav.removeClass('subnav-fixed')
        }
      }
