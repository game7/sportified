:css

  body {
    font-family: 'Rubik',-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";    
  }

  .outer {
    width: 100%;
    height: 100%;
  }

  .header,
  .footer {
    height: 90px;
    background-color: #000;
  }


  .main {
    height: 900px;
    padding: 10px;
    padding-left: 20px;
    padding-right: 20px;
    overflow: hidden;
  }

  .events {
    height: 900px;
    padding: 10px 20px;
    overflow: hidden;
    display: flex;
    flex-direction: column;
    gap: 5px;
  }  

  .event {
    display: flex;
    flex-direction: row;
    gap: 5px;
  }

  .event .cell {
    background-color: maroon;
    background-color: #800000;
    color: white;
    opacity: 1;
    font-weight: bold;
    height: 90px;
    line-height: 90px;
    font-size: 54px;
    padding: 0 20px
  }

  .event.odd .cell {
    background-color: maroon;
    background-color: #800000;
    color: white; 
  }  

  .event.even .cell {
    background-color: #FFC627;
    color: black;    
  }

  .event .time {
    width: 570px;
  }

  .teams.event .time {
    height: 185px;
  }  

  .event .summary {
    width: 1110px;
  }

  .event .teams {
    display: flex;
    flex-direction: column;
    gap: 5px;
  }
  
  .event .away_team,
  .event .home_team {
    display: flex;
    gap: 5px;
  }

  .event .team {
    height: 90px;
    width: 1205px;
    display: flex;
    justify-content: space-between;
  }

  .event .locker_room {
    text-align: center;
    vertical-align: middle;
    width: 90px;
    height: 90px;
  }


  .title {
    text-align: center;
    font-size: 54px;
    height: 90px;
    line-height: 90px;
    color: white;
    background-color: #5C6670;
    background-color: black;
    font-weight: bold;
  }


  .footer {
    display: flex;
    justify-content: space-between;
    align-items: center;
  }  

  .datetime {
    font-size: 42px;
    line-height: 90px;
    color: white;
    margin-right: 20px;
  }

  .logo {
    margin-left: 20px;
  }

  .logo img {
    height: 42px;
  }  


.outer
  .header
    .title Locker Room Assignments

  .events
    - rows = 0
    - @events.each do |event|
      - rows += 1
      - rows += 1 if event.try(:show_teams?)
      - next if rows > 9
      - odd_or_even = cycle('odd', 'even')
      
      - if (event.try(:show_teams?))
        .teams.event{ class: odd_or_even }
          .time.cell= time_range(event.starts_on, event.ends_on)
          .teams
            .away_team
              .team.cell
                .name= event.away_team_name.presence || event.try(:away_team).try(:name)
                .bench= event.type == 'League::Game' ? '(away)' : ''
              .locker_room.away.cell= event.away_team_locker_room&.name
            .home_team
              .team.cell
                .name= event.home_team_name.presence || event.try(:home_team).try(:name)
                .bench= event.type == 'League::Game' ? '(home)' : ''
              .locker_room.home.cell= event.home_team_locker_room&.name
      - else
        .summary.event{ class: odd_or_even }
          .time.cell= time_range(event.starts_on, event.ends_on)
          .summary.cell= event.summary
          .locker_room.away.cell= event.away_team_locker_room&.name
          .locker_room.home.cell= event.home_team_locker_room&.name  

  .footer
    .logo
      = image_tag('themes/oia/oia_white.svg')
    .datetime
      %span#date
        = "#{@time.strftime('%A, %b')} #{@time.strftime('%e').to_i.ordinalize}"
      != ' - '
      %span#time= @time.strftime('%l:%M %P')

:javascript
  $(function() {
    function pad(num) {
      return (num < 10 ? '0' : '') + num;
    }
    function getHour(date) {
      var hours = date.getHours();
      if (hours == 0) return 12;
      if (hours <= 12) return hours;
      return hours % 12;
    }
    function getMeridiem(date) {
      return date.getHours() < 12 ? 'am' : 'pm';
    }
    function formatTime(date) {
      var hour = getHour(date);
      var meridiem = getMeridiem(date);
      return hour + ':' + pad(date.getMinutes()) + ' ' + meridiem;
    }
    function setTime() {
      var date = new Date();
      $('#time').text(formatTime(new Date()));
    }
    function refresh() {
      $.ajax(window.location).then(function(data, status) {
        var $page = $(data);
        $('.outer').replaceWith($page.filter('.outer'));
      })
    }
    window.setInterval(setTime, 1000)
    window.setInterval(refresh, 5 * 60 * 1000)
  })