- title 'Exceptions'
- breadcrumb 'Exceptions'

.ui.segment
  = line_chart @by_day

.ui.grid
  .twelve.wide.column
    %table.ui.celled.table
      %thead
        %tr
          %th Date/Time
          %th Exception
      %tbody
        - @exceptions.each do |exc|
          %tr
            %td{ style: 'width: 25%;' }= link_to exc.time, [:host, exc]
            %td
              = exc.properties['exception']
              %br
              %small= exc.properties['message']

  .four.wide.column
    %table.ui.celled.table
      %thead
        %tr
          %th{ style: 'width: 80%;' } Exception  
          %th Count
      %tbody          
        - @by_exception.each do |group|
          %tr
            %td= group[0]
            %td= group[1]

    %table.ui.celled.table
      %thead
        %tr
          %th{ style: 'width: 80%;' } Controller  
          %th Count
      %tbody          
        - @by_controller.each do |group|
          %tr
            %td= group[0]
            %td= group[1]          

    %table.ui.celled.table
      %thead
        %tr
          %th{ style: 'width: 80%;' } Host  
          %th Count
      %tbody          
        - @by_host.each do |group|
          %tr
            %td= group[0]
            %td= group[1]                   