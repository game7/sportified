- title @league.name + ' Standings'
= render :partial => 'shared/season_options', :object => @season_options

- teams_by_division(@teams).each do |division|
  %h3= division[:name] unless division[:name].blank?
  .visible-phone
    %table.table.table-striped.table-bordered
      %thead
        %tr
          %th TEAM
          %th PTS
        %tbody
          - last_pool = ""
          - division[:teams].each do |team|
            - unless team.pool == last_pool
              %tr
                %th{:colspan => 2}= team.pool
              - last_pool = team.pool
            %tr
              %td= team.name
              %td= team.record.pts
  .hidden-phone
    %table.table.table-striped.table-bordered
      %thead
        %tr
          %th.span2 TEAM
          %th.span1 GP
          %th.span1 W
          %th.span1 L
          %th.span1 SOL
          %th.span1 PTS
          %th.span1 GS
          %th.span1 GA
          %th.span1 +/-
          %th.span2 STREAK
        %tbody
          - last_pool = ""
          - division[:teams].each do |team|
            - unless team.pool == last_pool
              %tr
                %th{:colspan => 10}= team.pool
              - last_pool = team.pool            
            %tr
              %td
                = "#{team.seed} -" if team.seed
                = team.name
              %td= team.record.gp
              %td= team.record.w
              %td= team.record.rl
              %td= team.record.sol
              %td= team.record.pts
              %td= team.record.scored
              %td= team.record.allowed
              %td= team.record.margin
              %td= team.record.stk


